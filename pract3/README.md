# TOIB3
# Устанавливаем, включаем правила TCP и UDP соединения и настраиваем правила rsyslog на сервере и клиенте
## Установка и насйтрока на сервере
![Установка VM2](https://github.com/106maksim/toib/assets/71127999/089ae6ac-5366-4014-ab7f-e700575cb10d)
![Настройка конф VM2](https://github.com/106maksim/toib/assets/71127999/c42a710d-bea5-4e36-abff-2404703d6769)
![Перезагрузка rsyslog VM2](https://github.com/106maksim/toib/assets/71127999/1dc72d6f-6aad-4138-bbb5-6ffc91b89356)
## Установка и настройка на клиенте
![Установка VM1](https://github.com/106maksim/toib/assets/71127999/50ef9822-6ea5-401a-86e8-a3cc6840a6c4)
![Настройка конф VM1](https://github.com/106maksim/toib/assets/71127999/547c18a9-b662-4080-965d-7a8a4a299754)
# Ппроверка получения логов на сервере
![логи vm1 на vm2](https://github.com/106maksim/toib/assets/71127999/3f52dbfd-185b-4f73-be3e-65440d6904a1)
# Установка и настройка получение логов на сервере с использованием Loki
![conf loki VM2](https://github.com/106maksim/toib/assets/71127999/d9d19150-8598-4d11-96fc-9b13f52c276a)
![установка loki](https://github.com/106maksim/toib/assets/71127999/12189bf1-c260-4d89-8463-c0c83b7a8ce6)
![запуск loki](https://github.com/106maksim/toib/assets/71127999/900b1967-4c06-4bd6-809a-f9beac108413)
![loki](https://github.com/106maksim/toib/assets/71127999/aa652dc7-d29d-462f-bec1-1a9393f22969)
# Редактируем promtail и docker-compose на клиенте
![promtail установка VM1](https://github.com/106maksim/toib/assets/71127999/5757dbb9-428b-45ef-9561-48db0090132b)
![promtail установка VM1_2](https://github.com/106maksim/toib/assets/71127999/9a3b6d47-a791-4a37-b275-633a0119e421)
![porm conf VM1_1](https://github.com/106maksim/toib/assets/71127999/6c97b044-20e3-4611-91ef-4dad5dc8f8e3)
![prom conf VM1_2](https://github.com/106maksim/toib/assets/71127999/622c2b34-07a3-4ad8-9ad1-8a5934f1c6ac)
# Просматриваем логи клиента в Grafana
![loki работает](https://github.com/106maksim/toib/assets/71127999/29d5205d-a9d3-4d1f-ac3e-2787d84a8fe4)
# Установка получения логов на сервере с использованием Signoz
Установка Signoz выполнена согласно инструкции с сайта: https://signoz.io/docs/install/docker/#install-signoz-using-docker-compose
![image](https://github.com/asatryan173/TOIB3/assets/71139053/50dafd5b-acdc-4ec9-b832-dd9e41a8740c)
# Установка и настройка sample-nodejs-app на клиенте
Установка sample-nodejs-app выполнена согласно инструкции с сайта https://github.com/SigNoz/sample-nodejs-app
![image](https://github.com/asatryan173/TOIB3/assets/71139053/18a1e941-3165-4816-80ab-535a26e24cb3)
![image](https://github.com/asatryan173/TOIB3/assets/71139053/94e4c5db-9a6e-4f85-943f-b411d6177a6e)
# Проверка получения логов в Signoz
![image](https://github.com/asatryan173/TOIB3/assets/71139053/8c139c8d-3ee6-4331-866c-6b7132de3f77)

